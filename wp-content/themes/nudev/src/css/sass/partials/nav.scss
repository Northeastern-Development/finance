/**
 * partials/nav
 * ---
 * Menus
 */

//Change this to which size you need your mobile nav
$mobileNav: 1100px;

#nu__mobile {
  display: none;
}


#nav-btn {
  display:none;
}

//main nav items in header
.nu__main-nav {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  height: 100%; /*added*/
  & > ul {
    & > li {
      @include font-1r-l;
      margin-right: ($gutter * 2);
      display: inline;
      & > a {
        color: $brand_colors-black;
        & > span {
        //   border-bottom: 4px solid rgba(255,255,254,1.0);
        border-bottom: 4px solid transparent;
          padding-bottom: 27px;
          &:after {
            content: '\e5cf';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            line-height: 2.5rem;
            font-family: 'Material Icons';
            font-size: 20px;
          }
          &:hover {
            border-bottom: 4px solid $brand_colors-red;
            color:$brand_colors-grayW;
            &:after {
              color:$brand_colors-red;
            }

          }
        }
      }
      &:nth-child(2), &:nth-child(3), &:nth-child(4){
        & > a {
          & > span {
            &:after {
              content: '';
            }
          }
        }
      }
    }
  }
}

//DESKTIOP NAV
//dropdown panels
$neumenu-list-zIndex: 11;
$nicemnu-active-bgcolor: rgb(151, 151, 151);




.verticle > .neumenu-item {
  display: block !important;
}


#about {
  height:18vw;
}

.neumenu-wrapper {
  width: 100%;
  left:0;
  overflow:hidden;
  position:absolute;
  z-index: 10;
  margin-top:25px;
  display:none;
  box-shadow: 2px 2px 2px #ccc;
  background-color: $brand_colors-white;
  min-height:100%;
  & > .neumenu {
    float:left;
    width:20%;
    height:auto;
    & > .neumenu-item {
      display: inline-block;
      z-index: $neumenu-list-zIndex;
    //   background-color: $brand_colors-white;
      padding:10px;
      margin-bottom:($gutter/2);
      &:first-of-type {
        margin-top:20px;
      }
      & > h6 {//PANEL TITLES/HEADER
        color: $brand_colors-black;
        font-size: 16px;
        line-height: 2em;
        cursor: pointer;
        width:80%;
      }
      & > p {//ABOUT COPY LEFT BLOCK BELOW HEADER
        color: $brand_colors-black;
        width:80%;
      }
      & > a {//ABOUT LEARN MORE LINK
        color: $brand_colors-black;
        width:80%;
        text-decoration: none;
        &:before {
          font-family: 'Material Icons';
          color: $brand_colors-red;
          content: '\e5c8';
          vertical-align: -20%;
          @include font-4-c;
          padding-right: 5px;
        }
        &:hover {
          text-decoration: none;

        }
      }


      & > .neumenu-sub {
        position: absolute;
        z-index: ($neumenu-list-zIndex + 1);
        display: none;
        min-width:100vw;
        background-color: $nicemnu-active-bgcolor;
        color: $brand_colors-black;
        min-height:100%;
        &.active {
          display: block;
        }

        &.first-sub {
          display:block;
        }
      }

      &.active {
        background-color: $nicemnu-active-bgcolor;
        display: block;
      }
    }
  }
}



.neumenu-sub-flex {
  display:flex;
  justify-content: space-between;
  max-width:78%;
  height:100%;
  box-shadow: inset 8px 0 10px -6px rgba(0, 0, 0, .3);
  .neumenu-sub_box {
    position: relative;
    margin-right: 5%;
    flex:1;
    &:last-child {
      margin-right:0;
    }
    & > ul {
      list-style-type: none;
      margin:$gutter 0 0 $gutter;
      & > li {
        @include font-1r-l;
        margin-bottom: $gutter;
        & > a {
          &:hover {
            color: $brand_colors-white;
          }
        }
      }
    }
    & > h6 {//ABOUT BOXES PANEL
      color: $brand_colors-black;
      width:18vw;
      height:12vw;
      background: $brand_colors-white;
      display:table;
      & > a {
        display:table-cell;
        vertical-align:middle;
        @include font-1r-c;
        color: $brand_colors-black;
        & > span {
          padding-bottom:5px;
        }
      }
      &:hover {
        background:green;
        & > a{
          & > span {
            border-bottom:4px solid $brand_colors-red;
          }
        }
      }
    }

  }
}

.neumenu-sub-about {
  display: flex;
  align-items: center;
  justify-content: center;

}



.neu__active {
  & > a {
    & > span {
      border-bottom: 4px solid $brand_colors-red !important;
      color:$brand_colors-grayW;
      &:after {
        color: $brand_colors-red;
      }
    }
  }
}

@media only screen and (max-width: $mobileNav) {

  #nu__main-nav-desktop {
    display:none;
  }

  #nu__mobile {
    top:124px;
    width:100%;
    background-color: #fff;
    
    
    & > nav {
      width:97vw;
      position:relative;
      margin:0 auto;
      padding-bottom:35vw; // WHY?
      padding: 20px 1.5vw; // (1.5vw padding on the sides is consistent with the rest of the nav)
      ul {
        list-style: none;
        padding: 0;
        & > li {
          margin: ($gutter / 2) 0;
          @include font-1r-l;

          & > a.toggle {
            // width: 100%;
            display: block;
            transition: background .3s ease;
            &:before {
              font-family: 'Material Icons';
              content: '\e313';
              float:right;
              @include font-4-c;
            }

            &:hover {
              color:$brand_colors-grayW ;
            }

          }
          .active {
            color:$brand_colors-grayW ;
            &:before {
             content: '\e316' !important;
            }
          }
        }

       & .inner {
          padding-left: ($gutter / 2);
          overflow: hidden;
          display: none;
          &.show {
            /*display: block;*/
          }
          & > ul {
            & > li {
              @include font-1r-l;
              & > a {
                &:hover {
                  color:$brand_colors-grayW ;
                }
              }
            }
          }
        }
      }
    }
  }



//HAMBURGER BUTTON
    #nav-btn{
        cursor: pointer;
        height: 56px;
        opacity: 0;
        position: absolute;
        right: 0;
        width: 56px;
        z-index: 100;

    }
    #nav-btn + label{
        display: block;
        height: 2px;
        height: 56px;
        left: 18px;
        position: absolute;
        right: 18px;
        top: 44px;
        width: 56px;
    }
    #nav-btn + span{
        background-color: $brand_colors-black;
        cursor: pointer;
        display: block;
        height: 2px;
        position: absolute;
        right: 20px;
        top: 51px;
        width: 56px;
        z-index: 99;
        display:none;


    }
    #nav-btn + span::before,
    #nav-btn + span::after{
        background-color: $brand_colors-black;
        content: "";
        display: block;
        height: 2px;
        left: 0;
        position: absolute;
        width: 56px;
    }
    #nav-btn + span::before{
        top: -6px;
    }
    #nav-btn + span::after{
        bottom: -6px;
    }
    #nav-btn:checked + span{
        background-color: #F5060A;
    }
    #nav-btn + span::before,
    #nav-btn + span::after{
        transition-delay: 0.2s, 0s;
        transition-duration: 0.2s, 0.2s;
    }
    #nav-btn + span::before{
        transition-property: top, transform;
    }
    #nav-btn + span::after{
        transition-property: bottom, transform;
    }
    #nav-btn:checked + span{
        background: none;
    }
    #nav-btn:checked + span::before{
        top: 0;
        transform: rotate(45deg);
    }
    #nav-btn:checked + span::after{
        bottom: 0;
        transform: rotate(-45deg);
    }
    #nav-btn:checked + span::before,
    #nav-btn:checked + span::after{
        transition-delay: 0s, 0.2s;
    }
    #nav-btn:checked ~ #nu__mobile{
        left: 0px;
        //opacity: 100;
        display:block;
        position: fixed;
        visibility: 1;
        z-index: 98;
    }
    #nav-btn:checked ~ nav ul{
        transform: translate(-50%, -50%);
    }

    #nav-btn {
      right:0;
      height: 56px;
      width: 20px;
    }
    #nav-btn + span {
      right:0;
    }

    #nav-btn, #nav-btn + span {
      display:block;
    }


    #nav-btn + label{
        height: 56px;
        left: 18px;
        position: absolute;
        right: 18px;
        top: 44px;
        width: 20px;
    }
    #nav-btn + span{
        background-color: $brand_colors-black;
        cursor: pointer;
        display: block;
        height: 2px;
        position: absolute;

        top: 41px;
        width: 20px;
        z-index: 99;

    }
    #nav-btn + span::before,
    #nav-btn + span::after{
        background-color: $brand_colors-black;
        content: "";
        display: block;
        height: 2px;
        left: 0;
        position: absolute;
        width: 20px;
    }
    #nav-btn + span::before{
        top: -5px;
    }
    #nav-btn + span::after{
        bottom: -5px;
    }

}

.no-scroll {
  overflow:hidden;
}
